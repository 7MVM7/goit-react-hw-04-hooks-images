{"version":3,"sources":["Сomponents/Modal/Modal.module.css","Сomponents/ImageGalleryItem/ImageGalleryItem.module.css","Сomponents/ImageGallery/ImageGallery.module.css","Сomponents/Button/Button.module.css","services/apiServices.js","Сomponents/Modal/Modal.jsx","Сomponents/Searchbar/Searchbar.jsx","Сomponents/ImageGalleryItem/ImageGalleryItem.jsx","Сomponents/ImageGallery/ImageGallery.jsx","Сomponents/Button/Button.jsx","Сomponents/Loader/Loader.jsx","App.js","index.js","Сomponents/Searchbar/Searchbar.module.css"],"names":["module","exports","axios","defaults","baseURL","fetchImages","a","query","page","get","response","data","hits","modalRoot","document","querySelector","Modal","largeImageURL","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","className","c","overlay","onClick","currentTarget","target","modal","src","alt","Searchbar","onSubmit","useState","setQuery","s","searchbar","searchForm","preventDefault","trim","toast","info","type","searchBtn","searchLable","searchInput","autoComplete","autoFocus","placeholder","onChange","value","toLowerCase","ImageGalleryItem","webformatURL","getLargeImageURL","galleryItem","galleryItemImage","ImageGallery","images","onSelect","imageGalleryList","map","image","tags","id","Button","button","Loader","color","height","width","timeout","App","setImages","error","setError","showModal","setShowModal","setPage","selectedImage","setSelectedImage","reqStatus","setReqStatus","length","prevState","onFetchImages","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","imageUrl","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9bf9b3e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__gXgI9\",\"modal\":\"Modal_modal__2YRmG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__1Owq6\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__3JWOe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryList\":\"ImageGallery_imageGalleryList__2oqXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1VB-P\"};","import axios from \"axios\";\n\nconst key = \"23035715-e0cb760b48ddc49b0eff80b6c\";\naxios.defaults.baseURL = \"https://pixabay.com/api\";\n\nexport const fetchImages = async ({ query, page }) => {\n  const response = await axios.get(\n    `/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return response.data.hits;\n};\n","import React, {useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport c from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal ({largeImageURL,onClose}) {\n useEffect(()=>{\n  window.addEventListener('keydown', handleKeyDown);\n  return ()=>{\n    window.removeEventListener('keydown', handleKeyDown);\n  };\n });\n\n const handleBackdropClick = e => {\n  if (e.currentTarget === e.target) {\n    onClose();\n  }\n};\n\n const  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={c.overlay} onClick={handleBackdropClick}>\n      <div className={c.modal}>\n        <img src={largeImageURL} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\nexport default Modal;\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n","import React, { useState } from 'react';\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PropTypes from \"prop-types\";\nimport s from './Searchbar.module.css'\n\nfunction Searchbar({onSubmit}) {\n  const [query,setQuery]=useState('');\n\n  const handleSubmit=(e)=>{\n    e.preventDefault();\n    if(query.trim()===\"\"){\n      toast.info(\"Введите название картинки\");\n      return;\n    }\n   onSubmit(query);\n   setQuery('');\n  }\n\n  const handleChange = e => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n    return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.searchBtn}>\n            <span className={s.searchLable}>Search</span>\n          </button>\n\n          <input\n            className={s.searchInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChange}\n            value={query}\n          />\n        </form>\n      </header>\n    );\n  }\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem ({ webformatURL,largeImageURL,alt=\"\",getLargeImageURL}) {\n  \n  return (\n    <li className={s.galleryItem} >\n      <img\n        src={webformatURL}\n        alt={alt}\n        className={s.galleryItemImage} \n        onClick={()=>getLargeImageURL(largeImageURL)} \n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n    getLargeImageURL: PropTypes.func.isRequired,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport c from './ImageGallery.module.css';\n\nfunction ImageGallery ({images,onSelect}) {\n  return (\n    <ul className={c.imageGalleryList} >\n        {images.map(image=>(\n        \n        <ImageGalleryItem \n        key={image.id}\n        webformatURL={image.webformatURL}\n        largeImageURL={image.largeImageURL}\n        alt={image.tags}\n        getLargeImageURL={onSelect}\n        />\n         \n        ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","import React from \"react\";\nimport s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({onClick}) => {\n  return (\n    <button className={s.button} type=\"button\" onClick={onClick}>\n     Load more\n    </button>\n  );\n};\n\nexport default Button;\n\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n}","\nimport React from \"react\";\nimport MyLoader from \"react-loader-spinner\";\n\nfunction Loader () {\n \n    return (\n      <MyLoader\n     \n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n\nexport  default Loader;  \n\n\n","import React, { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport { fetchImages } from \"./services/apiServices.js\";\nimport Modal from \"./Сomponents/Modal/Modal\";\nimport Searchbar from \"./Сomponents/Searchbar/Searchbar\";\nimport ImageGallery from \"./Сomponents/ImageGallery/ImageGallery\";\nimport Button from \"./Сomponents/Button/Button\";\nimport Loader from \"./Сomponents/Loader/Loader\";\n\nfunction App() {\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [selectedImage, setSelectedImage] = useState(\"\");\n  const [reqStatus, setReqStatus] = useState(\"idle\");\n\n  useEffect(() => {\n    if (reqStatus === \"rejected\") {\n      toast.error(\"Приїхали, no match\");\n    }\n  }, [reqStatus, images.length]);\n\n  useEffect(() => {\n    if (!query) return;\n\n    async function onFetchImages() {\n      try {\n        setReqStatus(\"pending\");\n        const images = await fetchImages({ query, page });\n        setReqStatus(\"resolve\");\n        if (images.length === 0) {\n          toast.error(\"Приїхали, no match\");\n        }\n        setImages((prevState) => [...prevState, ...images]);\n      } catch (error) {\n        setReqStatus(\"rejected\");\n      }\n    }\n    onFetchImages();\n  }, [query, page]);\n\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  });\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const handleSelectImage = (imageUrl) => {\n    setSelectedImage(imageUrl);\n    toggleModal();\n  };\n\n  const handleSubmit = (query) => {\n    setQuery(query);\n    setImages([]);\n    setPage(1);\n    setError(null);\n  };\n\n  return (\n    <>\n      {error && toast.error(\"OOO, something is wrong!\")}\n      <Searchbar onSubmit={handleSubmit} />\n      {reqStatus === \"pending\" && <Loader />}\n      {images.length > 0 && (\n        <ImageGallery images={images} onSelect={handleSelectImage} />\n      )}\n      {images.length > 0 && <Button onClick={() => setPage(page + 1)} />}\n      {showModal && (\n        <Modal onClose={toggleModal} largeImageURL={selectedImage} />\n      )}\n      <ToastContainer position=\"bottom-left\" autoClose={3000} />\n    </>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2iYiG\",\"searchForm\":\"Searchbar_searchForm__3uUVd\",\"searchBtn\":\"Searchbar_searchBtn__1v7J3\",\"searchInput\":\"Searchbar_searchInput__1Wyhp\",\"searchLable\":\"Searchbar_searchLable__R4Hcj\"};"],"sourceRoot":""}